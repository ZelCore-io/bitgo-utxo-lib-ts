"use strict";
// {signature} {pubKey}
Object.defineProperty(exports, "__esModule", { value: true });
exports.check = void 0;
const __1 = require("../../");
function isCompressedCanonicalPubKey(pubKey) {
    return __1.script.isCanonicalPubKey(pubKey) && pubKey.length === 33;
}
function check(script) {
    const chunks = __1.script.decompile(script);
    return (chunks.length === 2 &&
        __1.script.isCanonicalScriptSignature(chunks[0]) &&
        isCompressedCanonicalPubKey(chunks[1]));
}
exports.check = check;
check.toJSON = () => {
    return 'witnessPubKeyHash input';
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvdGVtcGxhdGVzL3dpdG5lc3NwdWJrZXloYXNoL2lucHV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx1QkFBdUI7OztBQUd2Qiw4QkFBMkM7QUFFM0MsU0FBUywyQkFBMkIsQ0FBQyxNQUFjO0lBQ2pELE9BQU8sVUFBTyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDO0FBQ25FLENBQUM7QUFFRCxTQUFnQixLQUFLLENBQUMsTUFBc0I7SUFDMUMsTUFBTSxNQUFNLEdBQUcsVUFBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQVUsQ0FBQztJQUVsRCxPQUFPLENBQ0wsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQ25CLFVBQU8sQ0FBQywwQkFBMEIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFXLENBQUM7UUFDdkQsMkJBQTJCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBVyxDQUFDLENBQ2pELENBQUM7QUFDSixDQUFDO0FBUkQsc0JBUUM7QUFDRCxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQVcsRUFBRTtJQUMxQixPQUFPLHlCQUF5QixDQUFDO0FBQ25DLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHtzaWduYXR1cmV9IHtwdWJLZXl9XHJcblxyXG5pbXBvcnQgeyBTdGFjayB9IGZyb20gJy4uLy4uLyc7XHJcbmltcG9ydCB7IHNjcmlwdCBhcyBic2NyaXB0IH0gZnJvbSAnLi4vLi4vJztcclxuXHJcbmZ1bmN0aW9uIGlzQ29tcHJlc3NlZENhbm9uaWNhbFB1YktleShwdWJLZXk6IEJ1ZmZlcik6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBic2NyaXB0LmlzQ2Fub25pY2FsUHViS2V5KHB1YktleSkgJiYgcHViS2V5Lmxlbmd0aCA9PT0gMzM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVjayhzY3JpcHQ6IEJ1ZmZlciB8IFN0YWNrKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgY2h1bmtzID0gYnNjcmlwdC5kZWNvbXBpbGUoc2NyaXB0KSBhcyBTdGFjaztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIGNodW5rcy5sZW5ndGggPT09IDIgJiZcclxuICAgIGJzY3JpcHQuaXNDYW5vbmljYWxTY3JpcHRTaWduYXR1cmUoY2h1bmtzWzBdIGFzIEJ1ZmZlcikgJiZcclxuICAgIGlzQ29tcHJlc3NlZENhbm9uaWNhbFB1YktleShjaHVua3NbMV0gYXMgQnVmZmVyKVxyXG4gICk7XHJcbn1cclxuY2hlY2sudG9KU09OID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgcmV0dXJuICd3aXRuZXNzUHViS2V5SGFzaCBpbnB1dCc7XHJcbn07XHJcbiJdfQ==